{"version":3,"file":"ft_bundle.js","mappings":"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","sources":["webpack://myLib/webpack/universalModuleDefinition","webpack://myLib/webpack/bootstrap","webpack://myLib/webpack/runtime/define property getters","webpack://myLib/webpack/runtime/hasOwnProperty shorthand","webpack://myLib/webpack/runtime/make namespace object","webpack://myLib/./src/util.js","webpack://myLib/./src/ft.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"myLib\"] = factory();\n\telse\n\t\troot[\"myLib\"] = factory();\n})(this, () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// ----------------------------------------------------------------------------\r\n// myMath.js\r\n// Copyright © 2021- gaku.iwa All Rights Reserved.\r\n//-----------------------------------------------------------------------------\r\nexport class util {\r\n  static expi = (theta) => {\r\n    return [Math.cos(theta), Math.sin(theta)];\r\n  };\r\n\r\n  static iadd = ([ax, ay], [bx, by]) => {\r\n    return [ax + bx, ay + by];\r\n  };\r\n\r\n  static isub = ([ax, ay], [bx, by]) => {\r\n    return [ax - bx, ay - by];\r\n  };\r\n\r\n  static imul = ([ax, ay], [bx, by]) => {\r\n    return [ax * bx - ay * by, ax * by + ay * bx];\r\n  };\r\n\r\n  static isum = (cs) => {\r\n    return cs.reduce((s, c) => this.iadd(s, c), [0, 0]);\r\n  };\r\n\r\n  static round = (num, digit) => {\r\n    var digitVal = Math.pow(10, digit);\r\n    var retVal;\r\n    if (digitVal < 1) {\r\n      retVal = Math.round(num * digitVal) * Math.pow(10, -1 * digit);\r\n    } else {\r\n      retVal = Math.round(num * digitVal) / digitVal;\r\n    }\r\n    return retVal;\r\n  };\r\n}\r\n","// ----------------------------------------------------------------------------\r\n// ft.js\r\n// Copyright © 2021- gaku.iwa All Rights Reserved.\r\n// ----------------------------------------------------------------------------\r\nimport { util } from \"./util.js\";\r\n\r\n// ----------------------------------------------------------------------------\r\n// 離散フーリエ 畳み込み演算\r\nconst dftc = (c, T) => {\r\n  return [...Array(c.length).keys()].map((i) => util.isum(c.map((cn, n) => util.imul(cn, util.expi(T * n * i)))));\r\n};\r\n\r\n// ----------------------------------------------------------------------------\r\n// 離散フーリエ ２の冪乗のデータ数\r\nconst revBit = (k, n0) => {\r\n  if (k === 1) return n0;\r\n  const s1 = ((n0 & 0xaaaaaaaa) >>> 1) | ((n0 & 0x55555555) << 1);\r\n  if (k === 2) return s1;\r\n  const s2 = ((s1 & 0xcccccccc) >>> 2) | ((s1 & 0x33333333) << 2);\r\n  if (k <= 4) return s2 >>> (4 - k);\r\n  const s3 = ((s2 & 0xf0f0f0f0) >>> 4) | ((s2 & 0x0f0f0f0f) << 4);\r\n  if (k <= 8) return s3 >>> (8 - k);\r\n  const s4 = ((s3 & 0xff00ff00) >>> 8) | ((s3 & 0x00ff00ff) << 8);\r\n  if (k <= 16) return s4 >>> (16 - k);\r\n  const s5 = ((s4 & 0xffff0000) >>> 16) | ((s4 & 0x0000ffff) << 16);\r\n  return s5 >>> (32 - k);\r\n};\r\n\r\nconst fftin1 = (c, T, N) => {\r\n  const k = Math.log2(N);\r\n  const rec = c.map((_, i) => c[revBit(k, i)]);\r\n  for (let Nh = 1; Nh < N; Nh *= 2) {\r\n    T /= 2;\r\n    for (let s = 0; s < N; s += Nh * 2) {\r\n      for (let i = 0; i < Nh; i++) {\r\n        const l = rec[s + i];\r\n        const re = util.imul(rec[s + i + Nh], util.expi(T * i));\r\n        [rec[s + i], rec[s + i + Nh]] = [util.iadd(l, re), util.isub(l, re)];\r\n      }\r\n    }\r\n  }\r\n  return rec;\r\n};\r\n\r\nconst fft1 = (f) => {\r\n  const N = f.length;\r\n  const T = -2 * Math.PI;\r\n  return fftin1(f, T, N);\r\n};\r\n\r\nconst ifft1 = (F) => {\r\n  const N = F.length;\r\n  const T = 2 * Math.PI;\r\n  return fftin1(F, T, N).map(([r, i]) => [r / N, i / N]);\r\n};\r\n\r\n// ----------------------------------------------------------------------------\r\n// 離散フーリエ 任意のデータ数\r\nconst conj = ([x, y]) => {\r\n  return [x, -y];\r\n};\r\n\r\nconst fftin2 = (c, T, N) => {\r\n  const Nd = N * 2;\r\n  const bc = c.map((_, n) => util.expi((T * n * n) / Nd));\r\n  const b = bc.map(conj);\r\n  const a = c.map((cn, n) => util.imul(cn, bc[n]));\r\n\r\n  const N2 = 1 << (32 - Math.clz32(Nd - 1));\r\n  const a2 = a.concat(Array(N2 - N).fill([0, 0]));\r\n  const b2 = b.concat(Array(N2 - Nd + 1).fill([0, 0]), b.slice(1).reverse());\r\n  const A2 = fft1(a2);\r\n  const B2 = fft1(b2);\r\n  const AB2 = A2.map((A2n, n) => util.imul(A2n, B2[n]));\r\n  const ab2 = ifft1(AB2);\r\n  return bc.map((bcn, n) => util.imul(bcn, ab2[n]));\r\n};\r\n\r\nconst fft2 = (f) => {\r\n  const N = f.length;\r\n  const T = -2 * Math.PI;\r\n  return fftin2(f, T, N);\r\n};\r\n\r\nconst ifft2 = (F) => {\r\n  const N = F.length;\r\n  const T = 2 * Math.PI;\r\n  return fftin2(F, T, N).map(([x, y]) => [x / N, y / N]);\r\n};\r\n\r\nconst isPowerOf2 = (n) => (n & (n - 1)) === 0;\r\n\r\n// ----------------------------------------------------------------------------\r\n// 離散フーリエ変換\r\nclass fft {\r\n  // --------------------------------------------------------------------------\r\n  // 変換\r\n  static convert = (f) => {\r\n    const N = f.length,\r\n      T = -2 * Math.PI;\r\n    const fftin = isPowerOf2(N) ? fftin1 : fftin2;\r\n    return fftin(f, T, N);\r\n  };\r\n\r\n  // --------------------------------------------------------------------------\r\n  // 逆変換\r\n  static revert = (F) => {\r\n    const N = F.length,\r\n      T = 2 * Math.PI;\r\n    const fftin = isPowerOf2(N) ? fftin1 : fftin2;\r\n    return fftin(F, T, N).map(([x, y]) => [x / N, y / N]);\r\n  };\r\n}\r\n\r\n// ----------------------------------------------------------------------------\r\n// 離散フーリエ変換\r\nclass dft {\r\n  // --------------------------------------------------------------------------\r\n  // 変換\r\n  static convert = (f) => {\r\n    const N = f.length;\r\n    const T = (-2 * Math.PI) / N;\r\n    return dftc(f, T);\r\n  };\r\n\r\n  // --------------------------------------------------------------------------\r\n  // 逆変換\r\n  static revert = (F) => {\r\n    const N = F.length;\r\n    const T = (2 * Math.PI) / N;\r\n    return dftc(F, T).map(([r, i]) => [r / N, i / N]);\r\n  };\r\n}\r\n\r\n// ----------------------------------------------------------------------------\r\n// 外部公開インターフェース\r\nexport { fft, dft };\r\n"],"names":["root","factory","exports","module","define","amd","this","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","util","static","theta","Math","cos","sin","ax","ay","bx","by","cs","reduce","s","c","iadd","num","digit","digitVal","pow","round","dftc","T","Array","length","keys","map","i","isum","cn","n","imul","expi","fftin1","N","k","log2","rec","_","n0","s1","s2","s3","s4","revBit","Nh","l","re","isub","fft1","f","PI","conj","x","y","fftin2","Nd","bc","b","a","N2","clz32","a2","concat","fill","b2","slice","reverse","A2","B2","ab2","F","r","ifft1","A2n","bcn","isPowerOf2","fft","dft"],"sourceRoot":""}