{"version":3,"file":"ft_bundle.js","mappings":"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","sources":["webpack://myLib/webpack/universalModuleDefinition","webpack://myLib/webpack/bootstrap","webpack://myLib/webpack/runtime/define property getters","webpack://myLib/webpack/runtime/hasOwnProperty shorthand","webpack://myLib/webpack/runtime/make namespace object","webpack://myLib/./src/util.js","webpack://myLib/./src/ft.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"myLib\"] = factory();\n\telse\n\t\troot[\"myLib\"] = factory();\n})(this, function() {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// ----------------------------------------------------------------------------\n// myMath.js\n// Copyright © 2021- gaku.iwa All Rights Reserved.\n//-----------------------------------------------------------------------------\nexport class util {\n  static expi = (theta) => {\n    return [Math.cos(theta), Math.sin(theta)];\n  };\n\n  static iadd = ([ax, ay], [bx, by]) => {\n    return [ax + bx, ay + by];\n  };\n\n  static isub = ([ax, ay], [bx, by]) => {\n    return [ax - bx, ay - by];\n  };\n\n  static imul = ([ax, ay], [bx, by]) => {\n    return [ax * bx - ay * by, ax * by + ay * bx];\n  };\n\n  static isum = (cs) => {\n    return cs.reduce((s, c) => this.iadd(s, c), [0, 0]);\n  };\n\n  static round = (num, digit) => {\n    var digitVal = Math.pow(10, digit);\n    var retVal;\n    if (digitVal < 1) {\n      retVal = Math.round(num * digitVal) * Math.pow(10, -1 * digit);\n    } else {\n      retVal = Math.round(num * digitVal) / digitVal;\n    }\n    return retVal;\n  };\n}\n","// ----------------------------------------------------------------------------\n// ft.js\n// Copyright © 2021- gaku.iwa All Rights Reserved.\n// ----------------------------------------------------------------------------\nimport { util } from \"./util.js\";\n\n// ----------------------------------------------------------------------------\n// 離散フーリエ 畳み込み演算\nconst dftc = (c, T) => {\n  return [...Array(c.length).keys()].map((i) => util.isum(c.map((cn, n) => util.imul(cn, util.expi(T * n * i)))));\n};\n\n// ----------------------------------------------------------------------------\n// 離散フーリエ ２の冪乗のデータ数\nconst revBit = (k, n0) => {\n  if (k === 1) return n0;\n  const s1 = ((n0 & 0xaaaaaaaa) >>> 1) | ((n0 & 0x55555555) << 1);\n  if (k === 2) return s1;\n  const s2 = ((s1 & 0xcccccccc) >>> 2) | ((s1 & 0x33333333) << 2);\n  if (k <= 4) return s2 >>> (4 - k);\n  const s3 = ((s2 & 0xf0f0f0f0) >>> 4) | ((s2 & 0x0f0f0f0f) << 4);\n  if (k <= 8) return s3 >>> (8 - k);\n  const s4 = ((s3 & 0xff00ff00) >>> 8) | ((s3 & 0x00ff00ff) << 8);\n  if (k <= 16) return s4 >>> (16 - k);\n  const s5 = ((s4 & 0xffff0000) >>> 16) | ((s4 & 0x0000ffff) << 16);\n  return s5 >>> (32 - k);\n};\n\nconst fftin1 = (c, T, N) => {\n  const k = Math.log2(N);\n  const rec = c.map((_, i) => c[revBit(k, i)]);\n  for (let Nh = 1; Nh < N; Nh *= 2) {\n    T /= 2;\n    for (let s = 0; s < N; s += Nh * 2) {\n      for (let i = 0; i < Nh; i++) {\n        const l = rec[s + i];\n        const re = util.imul(rec[s + i + Nh], util.expi(T * i));\n        [rec[s + i], rec[s + i + Nh]] = [util.iadd(l, re), util.isub(l, re)];\n      }\n    }\n  }\n  return rec;\n};\n\nconst fft1 = (f) => {\n  const N = f.length;\n  const T = -2 * Math.PI;\n  return fftin1(f, T, N);\n};\n\nconst ifft1 = (F) => {\n  const N = F.length;\n  const T = 2 * Math.PI;\n  return fftin1(F, T, N).map(([r, i]) => [r / N, i / N]);\n};\n\n// ----------------------------------------------------------------------------\n// 離散フーリエ 任意のデータ数\nconst conj = ([x, y]) => {\n  return [x, -y];\n};\n\nconst fftin2 = (c, T, N) => {\n  const Nd = N * 2;\n  const bc = c.map((_, n) => util.expi((T * n * n) / Nd));\n  const b = bc.map(conj);\n  const a = c.map((cn, n) => util.imul(cn, bc[n]));\n\n  const N2 = 1 << (32 - Math.clz32(Nd - 1));\n  const a2 = a.concat(Array(N2 - N).fill([0, 0]));\n  const b2 = b.concat(Array(N2 - Nd + 1).fill([0, 0]), b.slice(1).reverse());\n  const A2 = fft1(a2);\n  const B2 = fft1(b2);\n  const AB2 = A2.map((A2n, n) => util.imul(A2n, B2[n]));\n  const ab2 = ifft1(AB2);\n  return bc.map((bcn, n) => util.imul(bcn, ab2[n]));\n};\n\nconst fft2 = (f) => {\n  const N = f.length;\n  const T = -2 * Math.PI;\n  return fftin2(f, T, N);\n};\n\nconst ifft2 = (F) => {\n  const N = F.length;\n  const T = 2 * Math.PI;\n  return fftin2(F, T, N).map(([x, y]) => [x / N, y / N]);\n};\n\nconst isPowerOf2 = (n) => (n & (n - 1)) === 0;\n\n// ----------------------------------------------------------------------------\n// 離散フーリエ変換\nclass fft {\n  // --------------------------------------------------------------------------\n  // 変換\n  static convert = (f) => {\n    const N = f.length,\n      T = -2 * Math.PI;\n    const fftin = isPowerOf2(N) ? fftin1 : fftin2;\n    return fftin(f, T, N);\n  };\n\n  // --------------------------------------------------------------------------\n  // 逆変換\n  static revert = (F) => {\n    const N = F.length,\n      T = 2 * Math.PI;\n    const fftin = isPowerOf2(N) ? fftin1 : fftin2;\n    return fftin(F, T, N).map(([x, y]) => [x / N, y / N]);\n  };\n}\n\n// ----------------------------------------------------------------------------\n// 離散フーリエ変換\nclass dft {\n  // --------------------------------------------------------------------------\n  // 変換\n  static convert = (f) => {\n    const N = f.length;\n    const T = (-2 * Math.PI) / N;\n    return dftc(f, T);\n  };\n\n  // --------------------------------------------------------------------------\n  // 逆変換\n  static revert = (F) => {\n    const N = F.length;\n    const T = (2 * Math.PI) / N;\n    return dftc(F, T).map(([r, i]) => [r / N, i / N]);\n  };\n}\n\n// ----------------------------------------------------------------------------\n// 外部公開インターフェース\nexport { fft, dft };\n"],"names":["root","factory","exports","module","define","amd","this","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","util","static","theta","Math","cos","sin","ax","ay","bx","by","cs","reduce","s","c","iadd","num","digit","digitVal","pow","round","dftc","T","Array","length","keys","map","i","isum","cn","n","imul","expi","fftin1","N","k","log2","rec","_","n0","s1","s2","s3","s4","revBit","Nh","l","re","isub","fft1","f","PI","conj","x","y","fftin2","Nd","bc","b","a","N2","clz32","a2","concat","fill","b2","slice","reverse","A2","B2","ab2","F","r","ifft1","A2n","bcn","isPowerOf2","fft","dft"],"sourceRoot":""}